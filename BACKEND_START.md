# üöÄ –ó–∞–ø—É—Å–∫ Backend —Å–µ—Ä–≤–µ—Ä–∞

## –ü—Ä–æ–±–ª–µ–º–∞: ERR_CONNECTION_REFUSED

–ï—Å–ª–∏ –≤—ã –≤–∏–¥–∏—Ç–µ –æ—à–∏–±–∫—É `ERR_CONNECTION_REFUSED` –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞, —ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ **backend —Å–µ—Ä–≤–µ—Ä –Ω–µ –∑–∞–ø—É—â–µ–Ω**.

## –ë—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ

### Windows:

1. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç:**
   ```cmd
   run-backend.bat
   ```

2. **–ò–ª–∏ –≤—Ä—É—á–Ω—É—é:**
   ```cmd
   cd server
   npm install
   node server.js
   ```

### Linux/Mac:

```bash
cd server
npm install
node server.js
```

## –ü–µ—Ä–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ —Å–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `server/.env`:

```env
TELEGRAM_BOT_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_–±–æ—Ç–∞
TELEGRAM_GROUP_CHAT_ID=–≤–∞—à_chat_id
TELEGRAM_TOPIC_CHAT_CLIENT=0
TELEGRAM_TOPIC_CALCULATOR=0
TELEGRAM_TOPIC_CONTACT_FORM=0
PORT=3001
NODE_ENV=development
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –≤—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
```
üöÄ Chat server running on http://localhost:3001
üì± Telegram bot: ‚úÖ Configured (–∏–ª–∏ ‚ùå Not configured)
```

–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: http://localhost:3001/health

–î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å—Å—è JSON:
```json
{
  "status": "ok",
  "telegramConfigured": true
}
```

## –ó–∞–ø—É—Å–∫ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

–î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –Ω—É–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å **–¥–≤–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞**:

1. **Backend —Å–µ—Ä–≤–µ—Ä** (–≤ –æ–¥–Ω–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ):
   ```cmd
   run-backend.bat
   ```

2. **Frontend dev-—Å–µ—Ä–≤–µ—Ä** (–≤ –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ):
   ```cmd
   npm run dev
   ```

## –ó–∞–ø—É—Å–∫ –¥–ª—è production

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ PM2 –∏–ª–∏ systemd (—Å–º. `DEPLOY.md`):

```bash
pm2 start ecosystem.config.cjs
```

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ü–æ—Ä—Ç 3001 –∑–∞–Ω—è—Ç

```bash
# Windows
netstat -ano | findstr :3001

# Linux/Mac
lsof -i :3001
```

–û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–æ—Ü–µ—Å—Å –∏–ª–∏ –∏–∑–º–µ–Ω–∏—Ç–µ –ø–æ—Ä—Ç –≤ `server/.env`:
```env
PORT=3002
```

–ò –æ–±–Ω–æ–≤–∏—Ç–µ `VITE_API_URL` –≤ `.env`:
```env
VITE_API_URL=http://localhost:3002
```

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã

```bash
cd server
npm install
```

### –û—à–∏–±–∫–∞ —Å Telegram –±–æ—Ç–æ–º

- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–æ–∫–µ–Ω –≤ `server/.env`
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –±–æ—Ç –¥–æ–±–∞–≤–ª–µ–Ω –≤ –≥—Ä—É–ø–ø—É
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Chat ID (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–º —á–∏—Å–ª–æ–º –¥–ª—è –≥—Ä—É–ø–ø—ã)

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞

```
server/
‚îú‚îÄ‚îÄ server.js          # Backend —Å–µ—Ä–≤–µ—Ä
‚îú‚îÄ‚îÄ package.json       # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ .env              # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (—Å–æ–∑–¥–∞–π—Ç–µ —Å–∞–º–∏)
‚îî‚îÄ‚îÄ node_modules/     # –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```

