# –ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å ID —Ç–æ–ø–∏–∫–æ–≤ –≤ Telegram –≥—Ä—É–ø–ø–µ

## üìå –ß—Ç–æ —Ç–∞–∫–æ–µ —Ç–æ–ø–∏–∫–∏?

–¢–æ–ø–∏–∫–∏ (topics) - —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è Telegram –¥–ª—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ –≥—Ä—É–ø–ø–∞—Ö. –ö–∞–∂–¥—ã–π —Ç–æ–ø–∏–∫ –∏–º–µ–µ—Ç —Å–≤–æ–π —É–Ω–∏–∫–∞–ª—å–Ω—ã–π ID.

## üîç –ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å ID —Ç–æ–ø–∏–∫–∞

### –ú–µ—Ç–æ–¥ 1: –ß–µ—Ä–µ–∑ getUpdates API

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –±–æ—Ç –¥–æ–±–∞–≤–ª–µ–Ω –≤ –≥—Ä—É–ø–ø—É –∏ —è–≤–ª—è–µ—Ç—Å—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –Ω—É–∂–Ω—ã–π —Ç–æ–ø–∏–∫ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–ß–∞—Ç —Å –∫–ª–∏–µ–Ω—Ç–æ–º")
3. –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
   ```
   https://api.telegram.org/bot<–í–ê–®_–¢–û–ö–ï–ù>/getUpdates
   ```
4. –ù–∞–π–¥–∏—Ç–µ –≤ –æ—Ç–≤–µ—Ç–µ JSON –ø–æ–ª–µ `message_thread_id` –≤ —Å–æ–æ–±—â–µ–Ω–∏–∏:
   ```json
   {
     "message": {
       "message_thread_id": 1,
       "chat": {
         "id": -123456789
       }
     }
   }
   ```
5. –ß–∏—Å–ª–æ –≤ `message_thread_id` - —ç—Ç–æ ID —Ç–æ–ø–∏–∫–∞

### –ú–µ—Ç–æ–¥ 2: –ß–µ—Ä–µ–∑ –±–æ—Ç–∞ @RawDataBot

1. –î–æ–±–∞–≤—å—Ç–µ –±–æ—Ç–∞ @RawDataBot –≤ –≤–∞—à—É –≥—Ä—É–ø–ø—É
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –Ω—É–∂–Ω—ã–π —Ç–æ–ø–∏–∫
3. –ë–æ—Ç –ø–æ–∫–∞–∂–µ—Ç –ø–æ–ª–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–æ–æ–±—â–µ–Ω–∏–∏, –≤–∫–ª—é—á–∞—è `message_thread_id`

### –ú–µ—Ç–æ–¥ 3: –ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ

–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –¥–æ—Å—Ç—É–ø –∫ –∫–æ–¥—É –±–æ—Ç–∞, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:

```javascript
bot.on('message', (msg) => {
  if (msg.message_thread_id) {
    console.log(`Topic ID: ${msg.message_thread_id}`)
    console.log(`Topic name: ${msg.reply_to_message?.forum_topic?.name || 'General'}`)
  }
})
```

## üìù –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤ .env

–ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è ID —Ç–æ–ø–∏–∫–æ–≤, –¥–æ–±–∞–≤—å—Ç–µ –∏—Ö –≤ —Ñ–∞–π–ª `server/.env`:

```env
TELEGRAM_TOPIC_CHAT_CLIENT=1
TELEGRAM_TOPIC_CALCULATOR=2
TELEGRAM_TOPIC_CONTACT_FORM=3
```

**–í–∞–∂–Ω–æ:**
- ID —Ç–æ–ø–∏–∫–æ–≤ –æ–±—ã—á–Ω–æ –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è —Å 1, 2, 3 –∏ —Ç.–¥.
- –ï—Å–ª–∏ –≥—Ä—É–ø–ø–∞ –±–µ–∑ —Ç–æ–ø–∏–∫–æ–≤, –æ—Å—Ç–∞–≤—å—Ç–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø—É—Å—Ç—ã–º–∏ –∏–ª–∏ 0
- –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è .env –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ:

```
üìå Topics configured:
   - –ß–∞—Ç —Å –∫–ª–∏–µ–Ω—Ç–æ–º: 1
   - –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –∑–∞—è–≤–∫–∏: 2
   - –û—Å—Ç–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É: 3
```

–ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ "Not set", –∑–Ω–∞—á–∏—Ç —Ç–æ–ø–∏–∫–∏ –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –∏–ª–∏ –≥—Ä—É–ø–ø–∞ –±–µ–∑ —Ç–æ–ø–∏–∫–æ–≤.

